import React, { useEffect, useRef } from 'react';
import { getCountryCode } from '../../countrycode';
import 'intl-tel-input/build/css/intlTelInput.css';
import intlTelInput from 'intl-tel-input';

const HideNumberForm = () => {
  const telInput2 = useRef(null);

  useEffect(() => {
    function getIntlTelInput(input) {
      return intlTelInput(input, {
        separateDialCode: true,
        preventInvalidNumbers: true,
        initialCountry: 'auto',
        geoIpLookup: function (callback) {
          callback(getCountryCode());
        },
        utilsScript: 'https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js'
      });
    }
    getIntlTelInput(telInput2.current);
  }, []);
  return (
    <div className='hide-number'>
      <div className='service-cost'>
        <div className='price'>
          <div className='icon'>
            <svg width='76' height='70' viewBox='0 0 76 70' fill='none' xmlns='http://www.w3.org/2000/svg'>
              <path d='M67.8876 69.1985L55.3026 56.6135C49.8726 59.0885 43.9664 60.3297 38.0001 60.2622C31.8501 60.3372 25.7639 59.0097 20.2026 56.381C15.8926 54.2782 12.0224 51.374 8.79887 47.8235C5.37689 44.1555 2.6874 39.8673 0.875122 35.1897L0.500122 34.0122L0.893872 32.8272C3.60441 25.9133 8.16608 19.8791 14.0789 15.386L4.25012 5.55721L9.54887 0.262207L73.1826 63.896L67.8951 69.1985H67.8876ZM19.3851 20.696C14.5923 24.0556 10.8076 28.6599 8.43887 34.0122C10.9211 39.7391 15.0662 44.5884 20.3371 47.9316C25.608 51.2748 31.7615 52.9577 38.0001 52.7622C41.937 52.7945 45.851 52.1606 49.5764 50.8872L42.8264 44.1372C41.3264 44.8722 39.6764 45.2585 38.0001 45.2622C35.0222 45.2435 32.1716 44.0523 30.0658 41.9465C27.9601 39.8408 26.7688 36.9901 26.7501 34.0122C26.7501 32.336 27.1364 30.6822 27.8751 29.1747L19.3851 20.696ZM67.4451 47.5497L62.2251 42.3335C64.4212 39.8506 66.2211 37.0439 67.5614 34.0122C65.0826 28.2828 60.9382 23.4312 55.6665 20.0875C50.3949 16.7438 44.2396 15.0626 38.0001 15.2622C37.0739 15.2622 36.1439 15.296 35.2439 15.3597L28.6251 8.73346C31.7076 8.07346 34.8501 7.74721 38.0001 7.76221C44.1501 7.68721 50.2364 9.01471 55.7976 11.6435C60.1101 13.7435 63.9764 16.6497 67.2014 20.201C70.6217 23.8646 73.3111 28.1475 75.1251 32.8197L75.5001 34.0122L75.1064 35.1972C73.3507 39.765 70.7533 43.9627 67.4489 47.5722L67.4451 47.5497Z' fill='#474C4D' />
            </svg>
          </div>
          <div className='value'>
            $5
            <span className='cent'>99</span>
          </div>
        </div>
        <div className='service-text'>
          <h5>
            <svg className='d-xl-none mr-2' width='20' height='19' viewBox='0 0 20 19' fill='none' xmlns='http://www.w3.org/2000/svg'>
              <path d='M17.97 18.885L14.614 15.529C13.166 16.189 11.591 16.52 10 16.502C8.36 16.522 6.737 16.168 5.254 15.467C4.10467 14.9062 3.07262 14.1318 2.213 13.185C1.30047 12.2068 0.583275 11.0633 0.0999999 9.81595L0 9.50195L0.105 9.18595C0.82781 7.34224 2.04426 5.73312 3.621 4.53495L1 1.91395L2.413 0.501953L19.382 17.471L17.972 18.885H17.97ZM5.036 5.95095C3.75792 6.84687 2.74865 8.07466 2.117 9.50195C2.77892 11.0291 3.8843 12.3223 5.28986 13.2138C6.69542 14.1053 8.33636 14.5541 10 14.502C11.0498 14.5106 12.0936 14.3415 13.087 14.002L11.287 12.202C10.887 12.398 10.447 12.501 10 12.502C9.20589 12.497 8.44572 12.1793 7.88418 11.6178C7.32265 11.0562 7.00498 10.2961 7 9.50195C7 9.05495 7.103 8.61395 7.3 8.21195L5.036 5.95095ZM17.852 13.112L16.46 11.721C17.0456 11.0589 17.5256 10.3104 17.883 9.50195C17.222 7.97411 16.1168 6.68035 14.711 5.7887C13.3053 4.89705 11.6639 4.44872 10 4.50195C9.753 4.50195 9.505 4.51095 9.265 4.52795L7.5 2.76095C8.322 2.58495 9.16 2.49795 10 2.50195C11.64 2.48195 13.263 2.83595 14.746 3.53695C15.896 4.09695 16.927 4.87195 17.787 5.81895C18.6991 6.79592 19.4163 7.93803 19.9 9.18395L20 9.50195L19.895 9.81795C19.4268 11.036 18.7342 12.1554 17.853 13.118L17.852 13.112Z' fill='black' />
            </svg>
            Hide a number
            <span className='hide-price d-xl-none'>$5.99</span>
          </h5>
          <p>Hide a number of your choice! Others wonâ€™t be able to see the number in search.</p>
        </div>
      </div>
      <div className='insert-number'>
        <h6>Select country code and enter a phone number</h6>
        <div className='search'>
          <form className='form-hide-number'>
            <div className='form-group search-container d-flex justify-content-between align-items-center'>
              <input ref={telInput2} type='text' id='mobile_code2' className='form-control' placeholder='e.g 123-456-7890' name='tel' />
              <button type='submit' className='d-flex align-items-center justify-content-center search-btn main-btn'>
                <svg className='flex-shrink-0 mr-2' width='20' height='19' viewBox='0 0 20 19' fill='none' xmlns='http://www.w3.org/2000/svg'>
                  <path d='M17.97 18.385L14.614 15.029C13.166 15.689 11.591 16.02 10 16.002C8.36 16.022 6.737 15.668 5.254 14.967C4.10467 14.4062 3.07262 13.6318 2.213 12.685C1.30047 11.7068 0.583275 10.5633 0.0999999 9.31595L0 9.00195L0.105 8.68595C0.82781 6.84224 2.04426 5.23312 3.621 4.03495L1 1.41395L2.413 0.00195312L19.382 16.971L17.972 18.385H17.97ZM5.036 5.45095C3.75792 6.34687 2.74865 7.57466 2.117 9.00195C2.77892 10.5291 3.8843 11.8223 5.28986 12.7138C6.69542 13.6053 8.33636 14.0541 10 14.002C11.0498 14.0106 12.0936 13.8415 13.087 13.502L11.287 11.702C10.887 11.898 10.447 12.001 10 12.002C9.20589 11.997 8.44572 11.6793 7.88418 11.1178C7.32265 10.5562 7.00498 9.79606 7 9.00195C7 8.55495 7.103 8.11395 7.3 7.71195L5.036 5.45095ZM17.852 12.612L16.46 11.221C17.0456 10.5589 17.5256 9.8104 17.883 9.00195C17.222 7.47411 16.1168 6.18035 14.711 5.2887C13.3053 4.39705 11.6639 3.94872 10 4.00195C9.753 4.00195 9.505 4.01095 9.265 4.02795L7.5 2.26095C8.322 2.08495 9.16 1.99795 10 2.00195C11.64 1.98195 13.263 2.33595 14.746 3.03695C15.896 3.59695 16.927 4.37195 17.787 5.31895C18.6991 6.29592 19.4163 7.43803 19.9 8.68395L20 9.00195L19.895 9.31795C19.4268 10.536 18.7342 11.6554 17.853 12.618L17.852 12.612Z' fill='white' />
                </svg>
                <span>Hide</span>
              </button>
            </div>
            <p className='ml-3 phone-error'>
              <svg className='mr-1 d-inline-block' width='14' height='14' viewBox='0 0 14 14' fill='none' xmlns='http://www.w3.org/2000/svg'>
                <g clipPath='url(#clip0_116_11970)'>
                  <path d='M13.8249 10.96L8.2975 0.76978C8.16118 0.516961 7.95329 0.309986 7.69987 0.17478C7.35558 -0.00946823 6.95246 -0.0503227 6.57821 0.0611027C6.20395 0.172528 5.88882 0.42722 5.70137 0.76978L0.174872 10.96C0.0540279 11.1843 -0.00639358 11.4361 -0.000455431 11.6908C0.00548271 11.9454 0.0775762 12.1942 0.208741 12.4126C0.339906 12.6309 0.525628 12.8114 0.747659 12.9363C0.96969 13.0612 1.22039 13.1261 1.47512 13.1248H12.5246C12.7688 13.1248 13.0092 13.0647 13.2246 12.9498C13.3953 12.8592 13.5464 12.7357 13.6691 12.5864C13.7918 12.4372 13.8837 12.2651 13.9396 12.0801C13.9955 11.8951 14.0142 11.7009 13.9947 11.5087C13.9751 11.3164 13.9177 11.13 13.8257 10.96H13.8249ZM6.99987 11.3748C6.82681 11.3748 6.65764 11.3235 6.51375 11.2273C6.36986 11.1312 6.2577 10.9945 6.19148 10.8346C6.12525 10.6747 6.10792 10.4988 6.14168 10.3291C6.17545 10.1593 6.25878 10.0034 6.38115 9.88106C6.50352 9.75869 6.65943 9.67535 6.82917 9.64159C6.9989 9.60783 7.17483 9.62516 7.33472 9.69138C7.49461 9.75761 7.63126 9.86976 7.72741 10.0137C7.82355 10.1575 7.87487 10.3267 7.87487 10.4998C7.87487 10.7318 7.78268 10.9544 7.61859 11.1185C7.4545 11.2826 7.23194 11.3748 6.99987 11.3748V11.3748ZM7.87487 8.31228C7.87487 8.42831 7.82878 8.53959 7.74673 8.62164C7.66468 8.70369 7.5534 8.74978 7.43737 8.74978H6.56237C6.44634 8.74978 6.33506 8.70369 6.25301 8.62164C6.17097 8.53959 6.12487 8.42831 6.12487 8.31228V4.81228C6.12487 4.69625 6.17097 4.58497 6.25301 4.50292C6.33506 4.42087 6.44634 4.37478 6.56237 4.37478H7.43737C7.5534 4.37478 7.66468 4.42087 7.74673 4.50292C7.82878 4.58497 7.87487 4.69625 7.87487 4.81228V8.31228Z' fill='#C8102E' />
                </g>
                <defs>
                  <clipPath id='clip0_116_11970'>
                    <rect width='14' height='14' fill='white' />
                  </clipPath>
                </defs>
              </svg>
              Please enter a valid phone number
            </p>
          </form>
        </div>
      </div>
    </div>
  );
};

export default HideNumberForm;
